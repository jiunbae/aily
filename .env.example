# aily — AI agent notification relay configuration
# Copy to ~/.claude/hooks/.notify-env and fill in your tokens:
#   cp .env.example ~/.claude/hooks/.notify-env
#   chmod 600 ~/.claude/hooks/.notify-env
#
# Or run: ./aily init

# --- Dashboard ---
# URL of the aily dashboard (default: https://aily.jiun.dev)
AILY_DASHBOARD_URL="https://aily.jiun.dev"

# Auth token for dashboard API (get from dashboard admin)
AILY_AUTH_TOKEN=""

# --- Discord ---
# Get these from https://discord.com/developers/applications
# Bot token: Bot tab → Reset Token
# Channel ID: Right-click channel → Copy Channel ID (enable Developer Mode first)
DISCORD_BOT_TOKEN="your-discord-bot-token"
DISCORD_CHANNEL_ID="your-discord-channel-id"

# --- Slack ---
# Create app at https://api.slack.com/apps
# Bot token (xoxb-): OAuth & Permissions → Bot User OAuth Token (after install)
# App token (xapp-): Socket Mode → App-Level Token (connections:write scope)
# Channel ID: Right-click channel → View channel details → Channel ID at bottom
SLACK_BOT_TOKEN="xoxb-your-slack-bot-token"
SLACK_APP_TOKEN="xapp-your-slack-app-level-token"
SLACK_CHANNEL_ID="C0123456789"

# --- General ---

# Platforms to notify (comma-separated: discord,slack)
# Leave empty to auto-detect from available tokens above
# NOTIFY_PLATFORMS="discord,slack"

# SSH hosts for tmux session management (comma-separated)
SSH_HOSTS="host-a,host-b"

# Auto-create/archive threads on tmux session start/close
# Set to "false" to disable (threads still work, just no auto-sync)
TMUX_THREAD_SYNC="true"

# What to do with threads when a tmux session is destroyed
# "archive" — archive/lock thread (default, keeps history)
# "delete"  — delete thread entirely
# Note: On Discord, "delete" removes the entire thread and all messages.
#       On Slack, "delete" removes the parent message only (replies may persist).
THREAD_CLEANUP="archive"

# --- Usage Monitoring ---
# API keys for rate limit polling (regular keys, not admin)
# Anthropic: tracks Claude API rate limits
# OpenAI: tracks Codex/GPT API rate limits
ANTHROPIC_API_KEY=""
OPENAI_API_KEY=""

# Enable the usage poller worker (polls rate limit status periodically)
ENABLE_USAGE_POLLER="false"

# Poll interval in seconds (default: 60)
USAGE_POLL_INTERVAL="60"

# Models used for probe requests (cheapest options recommended)
USAGE_POLL_MODEL_ANTHROPIC="claude-haiku-4-5-20251001"
USAGE_POLL_MODEL_OPENAI="gpt-4o-mini"

# --- Session Agent Launch ---
# Auto-launch an agent when creating a new session with !new
# Options: "" (none), "claude", "codex", "gemini", "opencode"
NEW_SESSION_AGENT=""

# Start Claude with remote-control mode (requires NEW_SESSION_AGENT="claude")
# When true, runs "claude remote-control" instead of "claude"
CLAUDE_REMOTE_CONTROL="false"

# Auto-execute queued commands when rate limits reset
ENABLE_COMMAND_QUEUE="false"

# How long to keep usage snapshots in hours (default: 168 = 7 days)
USAGE_RETENTION_HOURS="168"
